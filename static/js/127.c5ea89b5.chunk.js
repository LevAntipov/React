"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[127],{9127:(s,e,a)=>{a.r(e),a.d(e,{default:()=>M});const t="Dialogs_dialogs__jdV5q";var i=a(6727);const n="DialogChats_dialogs__chat__7nfTs",d="DialogChats_dialogs__chat__item__Gi8MF",l="DialogChats_dialogs__chat__item__img__soyuw";var r=a(3003),g=a(579);const o=function(){let s=(0,r.Pj)().getState().messagesPage.dialogsData;const e=s=>(0,g.jsxs)("div",{className:d,children:[(0,g.jsx)("div",{className:l}),(0,g.jsx)("div",{children:(0,g.jsx)(i.k2,{to:"/dialogs/"+s.id,children:s.name})})]});let a=s.map(((s,a)=>(0,g.jsx)(e,{name:s.name,id:s.id,avatar:s.avatar},a)));return(0,g.jsx)("div",{className:n,children:a})};var m=a(881),c=a(5043);const h="DialogMessages_dialogs__message__yl8Df",_="DialogMessages_dialogs__message__item__9Mgc1";var x=a(2555),u=a(4858);const j=s=>{var e,a;const{register:t,handleSubmit:i,reset:n,formState:{errors:d}}=(0,u.mN)({mode:"onChange"});return(0,g.jsxs)("form",{onSubmit:i((e=>{s.addMessage(e.text),n()})),children:[(0,g.jsx)("textarea",(0,x.A)({placeholder:"write something"},t("text",{maxLength:20,required:"this field is required",minLength:3}))),"maxLength"===(null===(e=d.textOfPost)||void 0===e?void 0:e.type)&&(0,g.jsx)("span",{children:"Max length is 20 symbols"})||"minLength"===(null===(a=d.textOfPost)||void 0===a?void 0:a.type)&&(0,g.jsx)("span",{children:"Min length is 3 symbols"}),(0,g.jsx)("button",{type:"submit",children:"send"})]})},p=s=>{const e=s=>(0,g.jsx)("div",{className:_,children:s.message});let a=s.messages.map(((s,a)=>(0,g.jsx)(e,{message:s.message},a)));return(0,g.jsxs)("div",{className:h,children:[(0,g.jsx)("div",{children:a}),(0,g.jsx)(j,{addMessage:s.addMessage})]})},v=(0,r.Ng)((s=>({messages:s.messagesPage.messagesData,newMessageText:s.messagesPage.newMessageText})),(s=>({addMessage:e=>{s((0,m.z)(e))}})))(p);let f=s=>({isAuth:s.auth.isAuth});const M=(0,a(3923).Zz)((0,r.Ng)((s=>({})),{}),(s=>{class e extends c.Component{render(){return this.props.isAuth?(0,g.jsx)(s,(0,x.A)({},this.props)):(0,g.jsx)(i.C5,{to:"/login",replace:!0})}}return(0,r.Ng)(f)(e)}))((function(s){return(0,g.jsxs)("div",{className:t,children:[(0,g.jsx)(o,{}),(0,g.jsx)(v,{})]})}))}}]);
//# sourceMappingURL=127.c5ea89b5.chunk.js.map